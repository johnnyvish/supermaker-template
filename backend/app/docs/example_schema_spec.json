{
    "tables": [
        {
            "name": "users",
            "columns": [
                {
                    "name": "id",
                    "type": "uuid",
                    "nullable": false,
                    "default": "gen_random_uuid()"
                },
                {
                    "name": "email",
                    "type": "text",
                    "nullable": false,
                    "unique": true
                },
                { "name": "display_name", "type": "text", "nullable": true },
                {
                    "name": "created_at",
                    "type": "timestamptz",
                    "nullable": false,
                    "default": "now()"
                }
            ],
            "primary_key": ["id"],
            "indexes": []
        },
        {
            "name": "todos",
            "columns": [
                {
                    "name": "id",
                    "type": "uuid",
                    "nullable": false,
                    "default": "gen_random_uuid()"
                },
                { "name": "user_id", "type": "uuid", "nullable": false },
                { "name": "title", "type": "text", "nullable": false },
                { "name": "details", "type": "text", "nullable": true },
                {
                    "name": "status",
                    "type": "text",
                    "nullable": false,
                    "default": "'pending'"
                },
                {
                    "name": "created_at",
                    "type": "timestamptz",
                    "nullable": false,
                    "default": "now()"
                }
            ],
            "primary_key": ["id"],
            "foreign_keys": [
                {
                    "columns": ["user_id"],
                    "references_table": "users",
                    "references_columns": ["id"],
                    "on_delete": "CASCADE"
                }
            ],
            "indexes": [
                { "name": "todos_user_id_idx", "columns": ["user_id"] },
                { "name": "todos_status_idx", "columns": ["status"] }
            ]
        }
    ]
}
